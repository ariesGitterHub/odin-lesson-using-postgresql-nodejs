<!DOCTYPE html>
<html>
  <%- include('./partials/head.ejs') %>
  <body>
    <h1><%= title %></h1>
    <div class="outer-container">
      <% if (locals.users) {%> <% users.forEach(function(user) { %>
      <div class="inner-container">
        <div class="user-details-list">
          <p>ID#: <%= user.id %></p>
          <p>Username: <%= user.username %></p>
          <!-- <p>Name: <%= user.firstName %> <%= user.lastName %></p> -->
          <p>Name: <%= user.firstname %> <%= user.lastname %></p>
          <p>Email: <%= user.email %></p>
          <% if (user.age) { %>
            <p>Age: <%= user.age %></p>
          <% } %>
          <% if (user.bio) { %>
            <p>Bio: <%= user.bio %></p>
          <% } %>
        </div>
        <div class="inner-controls">
          <a href="/<%= user.id %>/update">Update</a>
          <!-- This time we're sending a POST request to our route, so we need a form. -->
          <form
            action="/<%= user.id %>/delete"
            method="POST"
            style="display: inline"
          >
            <button
              type="submit"
              onclick="return confirm('Are you sure you want to delete this user?');"
            >
              Delete
            </button>
          </form>
        </div>
      </div>
      <% }); %> <% } %>
      <div class="outer-controls">
        <a href="/create">Create a user</a>
        <a href="/search">Search users</a>
      </div>
    </div>
  </body>
</html>
